<link href="css/bootstrap.min.css?v=3.3.6" rel="stylesheet">
<link href="css/style.css?v=4.1.0" rel="stylesheet">

<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/times.js"></script>
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/echarts.min.js"></script>
<script type="text/javascript" src="js/china.js"></script>
<script type="text/javascript" src="js/angular.min.js"></script>
<script type="text/javascript" src="js/mycharts4.js"></script>
<script type="text/javascript" src="js/bootstrap-datetimepicker.js"></script>
<script type="text/javascript" src="js/bootstrap-datetimepicker.zh-CN.js"></script>
<script src="js/bootstrap.min.js?v=3.3.6"></script>
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">

<style type="text/css">
	.types {
		width: 6%;
		height: 100%;
		background-color: #F5F5F5;
		margin-left: 2%;
		border-radius: 6px;
		text-align: center;
		font-size: 12px;
		line-height: 23px;
	}

	.types2 {
		background-color: #F5F5F5;
		margin-left: 2%;
		border-radius: 6px;
		text-align: center;
		font-size: 12px;
		line-height: 23px;
	}
	

	.types3 {
		width: 6%;
		height: 100%;
		background-color: #F5F5F5;
		margin-left: 2%;
		border-radius: 6px;
		text-align: center;
		font-size: 12px;
		line-height: 23px;
	}

	.type1 {
		background-color: rgb(0, 193, 223);
		color: white;
	}
</style>

<body class="gray-bg">
	<div class="wrapper wrapper-content">
		<div style="width: 100%;">
			<div class="ibox float-e-margins">
				<div class="ibox-title">
					<h1 class="no-margins" style="font-size:30px;text-align:center;color: rgb(0, 193, 223);">
						{$alarm}&nbsp;<font style="font-size:16px;position:relative;top:-2px;color: rgb(103, 106,108);">
							次</font>
					</h1>
				</div>
				<div class="ibox-content" style="text-align: center;">
					今日报警次数
				</div>
			</div>
		</div>
		<div style="width: 100%;">
			<div class="ibox float-e-margins">
				<div class="ibox-title">
					<h1 class="no-margins" style="font-size:30px;text-align:center; color: rgb(0, 193, 223);">
						{$alarms}&nbsp;<font
							style="font-size:16px;position:relative;top:-2px;color: rgb(103, 106,108);">次</font>
					</h1>
				</div>
				<div class="ibox-content" style="text-align: center;">
					本月报警次数
				</div>
			</div>
		</div>
		<div style="width: 100%;">
			<div class="ibox float-e-margins">
				<div class="ibox-title">
					<h1 class="no-margins" style="font-size:30px;text-align:center; color: rgb(241,30,214);">
						{$quest}&nbsp;<font style="font-size:16px;position:relative;top:-2px;color: rgb(103, 106,108);">
							次</font>
					</h1>
				</div>
				<div class="ibox-content" style="text-align: center;">
					今日违规次数
				</div>
			</div>
		</div>
		<div style="width: 100%;">
			<div class="ibox float-e-margins">
				<div class="ibox-title">
					<h1 class="no-margins" style="font-size:30px;text-align:center; color: rgb(241,30,214);">
						{$quests}&nbsp;<font
							style="font-size:16px;position:relative;top:-2px;color: rgb(103, 106,108);">次</font>
					</h1>
				</div>
				<div class="ibox-content" style="text-align: center;">
					本月违规次数
				</div>
			</div>
		</div>
		<div style="width: 100%;">
			<div class="ibox float-e-margins">
				<div class="ibox-title">
					<h1 class="no-margins" style="font-size:30px;text-align:center;color: black;">{$alls}&nbsp;<font
							style="font-size:16px;position:relative;top:-2px;color: rgb(103, 106,108);">次</font>
					</h1>
				</div>
				<div class="ibox-content" style="text-align: center;">
					本月人脸识别次数
				</div>
			</div>
		</div>
	</div>
	<div class="wrapper wrapper-content" style="margin-top: -2%;">
		<div style="width: 100%;">
			<div class="ibox float-e-margins">
				<div class="ibox-title">
					<h5>车间环境数据变化图</h5>
				</div>
				<div class="ibox-content">
					<div id="main" style="width: 100%;height:30%;"></div>
						<div class="types type1" onclick="chejian('para3','para5','para7')" style="width: 100%;height: 4%;margin-top: 2%;">PM值</div>
						<div class="types" onclick="chejian('para8')" style="width: 100%;height: 4%;margin-top: 2%;">总颗粒悬浮物（TSP）</div>
						<div class="types" onclick="chejian('para1','para2')" style="width: 100%;height: 4%;margin-top: 2%;">温湿度</div>
						<div class="types" onclick="chejian('para4','para6')" style="width: 100%;height: 4%;margin-top: 2%;">氧气和二氧化碳</div>
				</div>
			</div>
		</div>
	</div>
	<div class="wrapper wrapper-content">
		<div style="width: 100%;">
				<div class="ibox-title">
					<h5>报警原因分析饼图</h5>
				</div>
				<div class="ibox-content">
					<select
						style="width: 20%;height: 3.5%;float: right;margin-top: -46px;border-radius: 5px;border-color: rgb(145, 145, 145);"
						onchange="chang(this[selectedIndex].value)">
						<option value="1">本月</option>
						<option value="2">上月</option>
					</select>
					<div style="width: 100%;height: 8%;font-size: 13px;margin-top: -20px;"><text
							style="line-height: 45px;" id="str">本月总共报警{$alar['count']}次</text></div>
					<div id="bing" style="width: 90%;height: 28%;"></div>
				</div>
		</div>
	</div>
	<div class="wrapper wrapper-content">
		<div style="width: 100%;">
				<div class="ibox-title">
					<h5>微生物数量曲线变化图</h5>
				</div>
				<div class="ibox-content">
					<select name="" id="che"
						style="width: 20%;height: 4%;float: right;margin-top: -46px;border-radius: 5px;border-color: rgb(145, 145, 145);"
						onchange="jg(this[selectedIndex].value)">
						<option value="1">本月</option>
						<option value="2">上月</option>
					</select>
					<div id="main2" style="width: 100%;height:31%;"></div>
						<div class="types2 type1 types4" onclick="change('para1','大肠菌群')" style="width: 100%;height: 4%;margin-top: 2%;">大肠菌群</div>
						<div class="types2" onclick="change('para2','菌落总数')" style="width: 100%;height: 4%;margin-top: 2%;">菌落总数</div>
						<div class="types2" onclick="change('para3','金黄色葡萄球菌')" style="width: 100%;height: 4%;margin-top: 2%;">金黄色葡萄球菌</div>
						<div class="types2" onclick="change('para4','沙门氏菌')" style="width: 100%;height: 4%;margin-top: 2%;">沙门氏菌</div>
						<div class="types2" onclick="change('para5','志贺氏菌')" style="width: 100%;height: 4%;margin-top: 2%;">志贺氏菌</div>
						<div class="types2" onclick="change('para6','蜡样芽胞杆菌')" style="width: 100%;height: 4%;margin-top: 2%;">蜡样芽胞杆菌</div>
				</div>
		</div>
	</div>
	<div class="wrapper wrapper-content">
		<div style="width: 100%;">
				<div class="ibox-title">
					<h5>违规原因分析饼图</h5>
				</div>
				<div class="ibox-content">
					<select
						style="width: 20%;height: 3.5%;float: right;margin-top: -46px;border-radius: 5px;border-color: rgb(145, 145, 145);"
						onchange="changs(this[selectedIndex].value)">
						<option value="1">本月</option>
						<option value="2">上月</option>
					</select>
					<div style="width: 100%;height: 8%;font-size: 13px;margin-top: -20px;"><text
							style="line-height: 45px;" id="strs">本月总共报警{$alars['count']}次</text></div>
					<div id="bing2" style="width: 90%;height: 28.3%;"></div>
				</div>
		</div>
	</div>
	<div class="wrapper wrapper-content">
		<div style="width: 100%;">
				<div class="ibox-title">
					<h5>杀菌温度柱状图</h5>
				</div>
				<div class="ibox-content">
					<div id="hhh" style="width: 100%;height: 40%;"></div>
				</div>
		</div>
	</div>

						<!-- <div style="width: 100%;height: 3%;display: flex;margin-top: 1%;"> -->
</body>
<script type="text/javascript">
	// 基于准备好的dom，初始化echarts实例
	var myChart = echarts.init(document.getElementById('main'));
	// 指定图表的配置项和数据
	var colors = ['#5793f3', '#d14a61', '#675bba'];
	var date = {$list4};
	var date1 = {$list1};
	var date2 = {$list2};
	var date3 = {$list3};
	var option = {
		color: colors,
		tooltip: {
			trigger: 'axis',
		},
		legend: {
			left: 0,
			top: 0,
			data: ['PM2.5', 'PM10', 'PM1']
		},
		grid: {
			top: 20,
			bottom: 40,
			left: 38,
			right:0
		},
		xAxis: {
			type: 'category',
			boundaryGap: false,
			// data: ['2016-1', '2016-2', '2016-3', '2016-4', '2016-5', '2016-6', '2016-7', '2016-8', '2016-9', '2016-10', '2016-11', '2016-12'],
			data: date,
			axisLabel: {
				interval: 0,
				rotate: 30
			}
		},
		yAxis: [
			{
				type: 'value'
			}
		],
		series: [
			{
				name: 'PM2.5',
				type: 'line',
				stack: '1',
				smooth: true,
				data: date1
			},
			{
				name: 'PM10',
				type: 'line',
				stack: '2',
				smooth: true,
				data: date2
			},
			{
				name: 'PM1',
				type: 'line',
				stack: '3',
				smooth: true,
				data: date3
			}
		]
	};
	// 使用刚指定的配置项和数据显示图表。
	myChart.setOption(option);
</script>
<script type="text/javascript">
	// 基于准备好的dom，初始化echarts实例
	var myChart = echarts.init(document.getElementById('bing'));

	// 指定图表的配置项和数据
	// var colors = ['#5793f3', '#d14a61', '#675bba'];
	var dats = {$alarsum};
	var option = {
		tooltip: {
			trigger: 'item',
			formatter: '{a} <br/>{b} : {c} ({d}%)'
		},
		legend: {
			orient: 'vertical',
			left: 'left',
			icon: 'circle',
			data: ['湿度', '温度', 'PM2.5', '二氧化碳', 'PM10', '氧气', 'PM1','TSP','噪声']
		},
		series: [
			{
				name: '访问来源',
				type: 'pie',
				radius: ['70%', '20%'],
				center: ['70%', '50%'],
				label: {
					show: false,
					position: 'center'
				},
				labelLine: {
					show: false
				},
				data: [
					{ value: dats['0'], name: '湿度' },
					{ value: dats['1'], name: '温度' },
					{ value: dats['2'], name: 'PM2.5' },
					{ value: dats['3'], name: '二氧化碳' },
					{ value: dats['4'], name: 'PM10' },
					{ value: dats['5'], name: '氧气' },
					{ value: dats['6'], name: 'PM1' },
					{ value: dats['7'], name: 'TSP' },
					{ value: dats['8'], name: '噪声' },
				],
				itemStyle: {
					normal: {
						color: function (params) {
							//自定义颜色
							var colorList = [
								'#00C1DF', '#1EF1C2', '#1E50F1', '#F1D61E', '#F11ED6', '#F11E1E', '#00FF00','#0000FF','#000000'
							];
							return colorList[params.dataIndex]
						}
					}
				}
			}
		]
	};
	// 使用刚指定的配置项和数据显示图表。
	myChart.setOption(option);
</script>
<script type="text/javascript">
	// 基于准备好的dom，初始化echarts实例
	var myChart = echarts.init(document.getElementById('main2'));
	var date = {$date};
	var para1 = {$para1};
	var name = {$name};
	// 指定图表的配置项和数据
	var colors = ['#5793f3'];
	var option = {
		color: colors,
		tooltip: {
			trigger: 'axis',
		},
		grid: {
			top: 10,
			bottom: 50,
			left: 38,
			right:0
		},
		xAxis: {
			type: 'category',
			boundaryGap: false,
			// data: ['2016-1', '2016-2', '2016-3', '2016-4', '2016-5', '2016-6', '2016-7', '2016-8', '2016-9', '2016-10', '2016-11', '2016-12'],
			data: date,
			axisLabel: {
				interval: 0,
				rotate: 30
			}
		},

		yAxis: [
			{
				type: 'value'
			}
		],
		series: [
			{
				name: name,
				type: 'line',
				stack: '1',
				smooth: true,
				data: para1
			},
		]
	};
	// 使用刚指定的配置项和数据显示图表。
	myChart.setOption(option);
</script>
<script type="text/javascript">
	// 基于准备好的dom，初始化echarts实例
	var myChart = echarts.init(document.getElementById('bing2'));
	// 指定图表的配置项和数据
	// var colors = ['#5793f3', '#d14a61', '#675bba'];
	var dats = {$alarsums};
	var option = {
		tooltip: {
			trigger: 'item',
			formatter: '{a} <br/>{b} : {c} ({d}%)'
		},
		legend: {
			orient: 'vertical',
			left: 'left',
			icon: 'circle',
			data: ['性别', '年龄阶段', '上身服饰', '下身服饰', '上身服饰颜色', '下身服饰颜色', '背包', '是否戴帽子', '是否戴口罩', '是否戴护目镜', '是否使用手机', '人体朝向', '是否吸烟', '是否有手提物']
		},
		series: [
			{
				name: '访问来源',
				type: 'pie',
				radius: ['70%', '20%'],
				center: ['70%', '50%'],
				label: {
					show: false,
					position: 'center'
				},
				labelLine: {
					show: false
				},
				data: [
					{ value: dats[0], name: '性别' },
					{ value: dats[1], name: '年龄阶段' },
					{ value: dats[2], name: '上身服饰' },
					{ value: dats[3], name: '下身服饰' },
					{ value: dats[4], name: '上身服饰颜色' },
					{ value: dats[5], name: '下身服饰颜色' },
					{ value: dats[6], name: '背包' },
					{ value: dats[7], name: '是否戴帽子' },
					{ value: dats[8], name: '是否戴口罩' },
					{ value: dats[9], name: '是否戴护目镜' },
					{ value: dats[10], name: '是否使用手机' },
					{ value: dats[11], name: '人体朝向' },
					{ value: dats[12], name: '是否吸烟' },
					{ value: dats[13], name: '是否有手提物' },
				],
				itemStyle: {
					normal: {
						color: function (params) {
							//自定义颜色
							var colorList = [
								'#00C1DF', '#1EF1C2', '#1E50F1', '#F1D61E', '#F11ED6', '#F11E1E', '#7CFC00', '#FFF8DC', '#F4A460', '#808080', '#008000', '#87CEEB', '#0000FF', '#4B0082'
							];
							return colorList[params.dataIndex]
						}
					}
				}
			}
		]
	};
	// 使用刚指定的配置项和数据显示图表。
	myChart.setOption(option);
</script>
<script type="text/javascript">  //生产加工过程中对生产设备、使用器具条件曲线变化图
	// 基于准备好的dom，初始化echarts实例
	var myChart = echarts.init(document.getElementById('hhh'));
	// 指定图表的配置项和数据
	// var colors = ['#5793f3', '#d14a61', '#675bba'];
	var date = {$date};
	var bacteria = {$bacteria};
	var option = {
		tooltip: {
			trigger: 'axis',
			axisPointer: {
				type: 'cross',
				crossStyle: {
					color: '#999'
				}
			}
		},
		grid: {
			left: 0,
			right: 0,
			bottom: 0,
			containLabel: true
		},
		xAxis: [
			{
				type: 'category',
				data: date,
				axisPointer: {
					type: 'shadow'
				},
				axisLabel: {
					interval: 0,
					rotate: 30
				}
			}
		],
		yAxis: [
			{
				type: 'value',
				name: '杀菌温度/°C',
				min: 0,
				max: 250,
				interval: 50,
				axisLabel: {
					formatter: '{value} °C'
				}
			}
		],
		series: [
			{
				name: '杀菌温度',
				type: 'bar',
				yAxisIndex: 0,
				data: bacteria
			},
		]
	};
	// 使用刚指定的配置项和数据显示图表。
	myChart.setOption(option);
</script>
<script>
	$('.types').click(function () {
		$('.types').removeClass('type1');
		$(this).addClass('type1');
	})
	$('.types2').click(function () {
		$('.types2').removeClass('type1');
		$(this).addClass('type1');
	})
	$('.types3').click(function () {
		$('.types3').removeClass('type1');
		$(this).addClass('type1');
	})
</script>
<script>
	function chang(date) {  //饼图1
		$.ajax({
			type: "POST",
			url: "__URL__/updalarm/",
			dataType: "json",
			data: {
				date: date
			},
			success: function (e) {
				// 基于准备好的dom，初始化echarts实例
				var myChart = echarts.init(document.getElementById('bing'));
				// 指定图表的配置项和数据
				// var colors = ['#5793f3', '#d14a61', '#675bba'];
				var dats = e.data;
				var option = {
					tooltip: {
						trigger: 'item',
						formatter: '{a} <br/>{b} : {c} ({d}%)'
					},
					legend: {
						orient: 'vertical',
						left: 'left',
						icon: 'circle',
						data: ['湿度', '温度', 'PM2.5', '二氧化碳', 'PM10', '氧气', 'PM1','TSP','噪声']
					},
					series: [
						{
							name: '访问来源',
							type: 'pie',
							radius: ['70%', '20%'],
							center: ['70%', '50%'],
							label: {
								show: false,
								position: 'center'
							},
							labelLine: {
								show: false
							},
							data: [
								{ value: dats['0'], name: '湿度' },
								{ value: dats['1'], name: '温度' },
								{ value: dats['2'], name: 'PM2.5' },
								{ value: dats['3'], name: '二氧化碳' },
								{ value: dats['4'], name: 'PM10' },
								{ value: dats['5'], name: '氧气' },
								{ value: dats['6'], name: 'PM1' },
								{ value: dats['7'], name: 'TSP' },
								{ value: dats['8'], name: '噪声' },
							],
							itemStyle: {
								normal: {
									color: function (params) {
										//自定义颜色
										var colorList = [
										'#00C1DF', '#1EF1C2', '#1E50F1', '#F1D61E', '#F11ED6', '#F11E1E', '#00FF00','#0000FF','#000000'
										];
										return colorList[params.dataIndex]
									}
								}
							}
						}
					]
				};
				// 使用刚指定的配置项和数据显示图表。
				myChart.setOption(option);

				if (date == 1) {
					var str = "本月总共报警" + e.count + "次";
				} else {
					var str = "上月总共报警" + e.count + "次";
				}
				document.getElementById("str").innerHTML = str;
			}
		})
	}

	function changs(date) {  //饼图2
		$.ajax({
			type: "POST",
			url: "__URL__/updalarms/",
			dataType: "json",
			data: {
				date: date
			},
			success: function (e) {
				// 基于准备好的dom，初始化echarts实例
				var myChart = echarts.init(document.getElementById('bing2'));
				// 指定图表的配置项和数据
				// var colors = ['#5793f3', '#d14a61', '#675bba'];
				var dats = e.data;
				var option = {
					tooltip: {
						trigger: 'item',
						formatter: '{a} <br/>{b} : {c} ({d}%)'
					},
					legend: {
						orient: 'vertical',
						left: 'left',
						icon: 'circle',
						data: ['性别', '年龄阶段', '上身服饰', '下身服饰', '上身服饰颜色', '下身服饰颜色', '背包', '是否戴帽子', '是否戴口罩', '是否戴护目镜', '是否使用手机', '人体朝向', '是否吸烟', '是否有手提物']
					},
					series: [
						{
							name: '访问来源',
							type: 'pie',
							radius: ['70%', '20%'],
							center: ['70%', '50%'],
							label: {
								show: false,
								position: 'center'
							},
							labelLine: {
								show: false
							},
							data: [
								{ value: dats[0], name: '性别' },
								{ value: dats[1], name: '年龄阶段' },
								{ value: dats[2], name: '上身服饰' },
								{ value: dats[3], name: '下身服饰' },
								{ value: dats[4], name: '上身服饰颜色' },
								{ value: dats[5], name: '下身服饰颜色' },
								{ value: dats[6], name: '背包' },
								{ value: dats[7], name: '是否戴帽子' },
								{ value: dats[8], name: '是否戴口罩' },
								{ value: dats[9], name: '是否戴护目镜' },
								{ value: dats[10], name: '是否使用手机' },
								{ value: dats[11], name: '人体朝向' },
								{ value: dats[12], name: '是否吸烟' },
								{ value: dats[13], name: '是否有手提物' },
							],
							itemStyle: {
								normal: {
									color: function (params) {
										//自定义颜色
										var colorList = [
											'#00C1DF', '#1EF1C2', '#1E50F1', '#F1D61E', '#F11ED6', '#F11E1E', '#7CFC00', '#FFF8DC', '#F4A460', '#808080', '#008000', '#87CEEB', '#0000FF', '#4B0082'
										];
										return colorList[params.dataIndex]
									}
								}
							}
						}
					]
				};
				// 使用刚指定的配置项和数据显示图表。
				myChart.setOption(option);

				if (date == 1) {
					var str = "本月总共报警" + e.count + "次";
				} else {
					var str = "上月总共报警" + e.count + "次";
				}
				document.getElementById("strs").innerHTML = str;
			},
			error: function (s) {
				alert(78);
			}
		})
	}

	function change(date, name) { //生产加工过程中微生物数量曲线变化图
		var id = $("#che option:selected").val();
		$.ajax({
			type: "POST",
			url: "__URL__/microorganism/",
			dataType: "json",
			data: {
				date: date,
				id: id,
			},
			success: function (e) {
				// 基于准备好的dom，初始化echarts实例
				var myChart = echarts.init(document.getElementById('main2'));
				var date = e.date2;
				var para1 = e.date1
				// 指定图表的配置项和数据
				var colors = ['#5793f3'];
				var option = {
					color: colors,
					tooltip: {
						trigger: 'axis',
					},
					// legend: {
					// 	left: 50,
					// 	data: [name]
					// },
					grid: {
						top: 10,
						bottom: 50,
						left: 38,
						right:0
					},
					xAxis: {
						type: 'category',
						boundaryGap: false,
						// data: ['2016-1', '2016-2', '2016-3', '2016-4', '2016-5', '2016-6', '2016-7', '2016-8', '2016-9', '2016-10', '2016-11', '2016-12'],
						data: date,
						axisLabel: {
							interval: 0,
							rotate: 30
						}
					},
					yAxis: [
						{
							type: 'value'
						}
					],
					series: [
						{
							name: name,
							type: 'line',
							stack: '1',
							smooth: true,
							data: para1
						},
					]
				};
				// 使用刚指定的配置项和数据显示图表。
				myChart.setOption(option);
			},
			error: function (jqXHR) {
				console.log(jqXHR)
			}
		});
	}

	function jg(id) {
		$.ajax({
			type: "POST",
			url: "__URL__/jiagong/",
			dataType: "json",
			data: {
				id: id
			},
			success: function (e) {
				$('.types2').removeClass('type1');
				$('.types4').addClass('type1');
				// $('.types2:nth-child(1)').addClass('type1');
				// 基于准备好的dom，初始化echarts实例
				var myChart = echarts.init(document.getElementById('main2'));
				var date = e.date1;
				var para1 = e.date;
				var name = e.name;
				// 指定图表的配置项和数据
				var colors = ['#5793f3'];
				var option = {
					color: colors,
					tooltip: {
						trigger: 'axis',
					},
					grid: {
						top: 10,
						bottom: 50,
						left: 38,
						right:0
					},
					xAxis: {
						type: 'category',
						boundaryGap: false,
						data: date,
						axisLabel: {
							interval: 0,
							rotate: 30
						}
					},

					yAxis: [
						{
							type: 'value'
						}
					],
					series: [
						{
							name: name,
							type: 'line',
							stack: '1',
							smooth: true,
							data: para1
						},
					]
				};
				// 使用刚指定的配置项和数据显示图表。
				myChart.setOption(option);
			}
		})
	}

	function chejian(name1, name2, name3) {
		$.ajax({
			type: "POST",
			url: "__URL__/getTimes/",
			dataType: "json",
			data: {
				name1: name1,
				name2: name2,
				name3: name3,
			},
			success: function (e) {

				if (!name3 && name2 == 'para2') {
					name1 = '湿度',
						name2 = '温度'
				} else if (!name3 && name2 == 'para6') {
					name1 = '二氧化碳',
						name2 = '氧气'
				}
				if (!name2) {
					name1 = '总颗粒悬浮物（TSP）'
				}
				if (name1 && name2 && name3) {
					name1 = 'PM2.5',
						name2 = 'PM10',
						name3 = 'PM1'
				}
				// 基于准备好的dom，初始化echarts实例
				var myChart = echarts.init(document.getElementById('main'));
				// 指定图表的配置项和数据
				var colors = ['#5793f3', '#d14a61', '#675bba'];
				var date = e.time;
				var date1 = e.one;
				var date2 = e.two;
				var date3 = e.three;
				var option = {
					color: colors,
					tooltip: {
						trigger: 'axis',
					},
					legend: {
						left: 50,
						top: -3,
						data: [name1, name2, name3]
					},
					grid: {
						top: 20,
						bottom: 40,
						left: 38
					},
					xAxis: {
						type: 'category',
						boundaryGap: false,
						// data: ['2016-1', '2016-2', '2016-3', '2016-4', '2016-5', '2016-6', '2016-7', '2016-8', '2016-9', '2016-10', '2016-11', '2016-12'],
						data: date,
						axisLabel: {
							interval: 0,
							rotate: 30
						}
					},
					yAxis: [
						{
							type: 'value'
						}
					],
					series: [
						{
							name: name1,
							type: 'line',
							stack: '1',
							smooth: true,
							data: date1
						},
						{
							name: name2,
							type: 'line',
							stack: '2',
							smooth: true,
							data: date2
						},
						{
							name: name3,
							type: 'line',
							stack: '3',
							smooth: true,
							data: date3
						}
					]
				};
				// 使用刚指定的配置项和数据显示图表。
				myChart.setOption(option);
			}
		})
	}

	function shebei(id) {
		$.ajax({
			type: "POST",
			url: "__URL__/shebei/",
			dataType: "json",
			data: {
				id: id
			},
			success: function (e) {
				// 基于准备好的dom，初始化echarts实例
				var myChart = echarts.init(document.getElementById('hhh'));
				// 指定图表的配置项和数据
				// var colors = ['#5793f3', '#d14a61', '#675bba'];
				var date = e;
				var option = {
					tooltip: {
						trigger: 'axis',
						axisPointer: {
							type: 'cross',
							crossStyle: {
								color: '#999'
							}
						}
					},
					grid: {
						left: '1%',
						right: '1%',
						bottom: '5%',
						containLabel: true
					},
					xAxis: [
						{
							type: 'category',
							data: date,
							axisPointer: {
								type: 'shadow'
							},
							axisLabel: {
								interval: 0,
								rotate: 30
							}
						}
					],
					yAxis: [
						{
							type: 'value',
							name: '温度/°C',
							min: 0,
							max: 250,
							interval: 50,
							axisLabel: {
								formatter: '{value} °C'
							}
						},
						{
							type: 'value',
							name: '杀菌时间/min',
							min: 0,
							max: 500,
							interval: 100,
							axisLabel: {
								formatter: '{value} min'
							}
						}
					],
					series: [
						{
							name: '温度',
							type: 'bar',
							yAxisIndex: 0,
							data: [200.0, 4.9, 7.0, 23.2, 25.6, 76.7, 135.6, 162.2, 32.6, 20.0, 6.4, 3.3, 5]
						},
						{
							name: '杀菌时间',
							type: 'bar',
							yAxisIndex: 1,
							data: [250.6, 5.9, 9.0, 26.4, 28.7, 70.7, 175.6, 182.2, 48.7, 18.8, 6.0, 2.3, 8]
						},
					]
				};
				// 使用刚指定的配置项和数据显示图表。
				myChart.setOption(option);
			}
		})
	}
</script>